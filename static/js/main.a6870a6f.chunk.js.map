{"version":3,"sources":["components/SearchBar/SearchBar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","service/Api.js","components/Modal/Modal.js","components/App/App.js","index.js"],"names":["SearchBar","onSubmit","value","onInput","className","type","onChange","autoComplete","autoFocus","placeholder","ImageGalleryItem","smallImageUrl","bigImageUrl","imageAlt","openModal","onClick","data-big","src","alt","ImageGallery","galleryItems","showImage","map","image","imageId","Button","handleClick","getImages","searchQuery","pageNumber","perPage","axios","get","defaults","baseURL","Modal","props","closeByEscape","e","code","closeModal","closeByOverlay","target","nodeName","state","reset","window","addEventListener","this","document","querySelector","style","overflow","removeEventListener","setState","source","name","Component","App","inputValue","images","error","errorMessage","warning","modal","modalSrc","loader","handleInput","handleSubmit","a","preventDefault","loadImages","then","length","message","resetPages","results","imagesArr","data","hits","forEach","id","largeImageURL","webformatURL","tags","loadMore","prevState","scrollWindow","openImage","dataset","big","scrollTo","top","documentElement","scrollHeight","behavior","modalBool","color","height","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a6870a6f.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./SearchBar.css\";\n\nconst SearchBar = ({ onSubmit, value, onInput }) => {\n  return (\n    <header className=\"Searchbar\">\n      <form onSubmit={onSubmit} className=\"SearchForm\">\n        <button type=\"submit\" className=\"SearchForm-button\">\n          <span className=\"SearchForm-button-label\">Search</span>\n        </button>\n\n        <input\n          onChange={onInput}\n          className=\"SearchForm-input\"\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={value}\n        />\n      </form>\n    </header>\n  );\n};\n\nexport default SearchBar;\n","import React from \"react\";\nimport \"./ImageGalleryItem.css\";\n\nconst ImageGalleryItem = ({\n  smallImageUrl,\n  bigImageUrl,\n  imageAlt,\n  openModal,\n}) => {\n  return (\n    <li className=\"ImageGalleryItem\">\n      <img\n        onClick={openModal}\n        data-big={bigImageUrl}\n        src={smallImageUrl}\n        alt={imageAlt}\n        className=\"ImageGalleryItem-image\"\n      />\n    </li>\n  );\n};\n\nexport default ImageGalleryItem;\n","import React from \"react\";\nimport \"./ImageGallery.css\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\n\nconst ImageGallery = ({ galleryItems, showImage }) => {\n  return (\n    <ul className=\"ImageGallery\">\n      {galleryItems.map((image) => (\n        <ImageGalleryItem\n          key={image.imageId}\n          smallImageUrl={image.smallImageUrl}\n          bigImageUrl={image.bigImageUrl}\n          imageAlt={image.imageAlt}\n          openModal={showImage}\n        />\n      ))}\n    </ul>\n  );\n};\n\nexport default ImageGallery;\n","import React from \"react\";\nimport \"./Button.css\";\n\nconst Button = ({ handleClick }) => {\n  return (\n    <button onClick={handleClick} className=\"Button\">\n      Load More\n    </button>\n  );\n};\n\nexport default Button;\n","import axios from \"axios\";\naxios.defaults.baseURL = \"https://pixabay.com/api/\";\n\nexport default function getImages(searchQuery, pageNumber, perPage) {\n  const key = \"19525294-22d6d1e180bf9905034ff3396\";\n  return axios.get(\n    `?q=${searchQuery}&page=${pageNumber}&key=${key}&image_type=photo&orientation=horizontal&per_page=${perPage}`\n  );\n}\n","import React, { Component } from \"react\";\nimport \"./Modal.css\";\n\nclass Modal extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      reset: false,\n    };\n  }\n\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.closeByEscape);\n    document\n      .querySelector(\".Overlay\")\n      .addEventListener(\"click\", this.closeByOverlay);\n    document.querySelector(\"body\").style.overflow = \"hidden\";\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.closeByEscape);\n    document\n      .querySelector(\".Overlay\")\n      .removeEventListener(\"click\", this.closeByOverlay);\n    document.querySelector(\"body\").style.overflow = \"unset\";\n    this.setState({\n      reset: true,\n    });\n  }\n\n  closeByEscape = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.closeModal();\n    }\n  };\n\n  closeByOverlay = (e) => {\n    if (e.target.nodeName !== \"IMG\") {\n      this.props.closeModal();\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"Overlay\">\n        <div className=\"Modal\">\n          <img\n            src={this.state.reset ? \"\" : this.props.source}\n            alt={this.state.reset ? \"\" : this.props.name}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Modal;\n","import React, { Component } from \"react\";\nimport \"./App.css\";\nimport SearchBar from \"../SearchBar/SearchBar\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\nimport Button from \"../Button/Button\";\nimport getImages from \"../../service/Api\";\nimport Loader from \"react-loader-spinner\";\nimport Modal from \"../Modal/Modal\";\n\nclass App extends Component {\n  state = {\n    perPage: 12,\n    pageNumber: 1,\n    inputValue: \"\",\n    images: [],\n    error: false,\n    errorMessage: \"\",\n    warning: false,\n    modal: false,\n    modalSrc: \"\",\n    loader: false,\n  };\n\n  handleInput = ({ target }) => {\n    this.setState({\n      inputValue: target.value,\n    });\n  };\n\n  handleSubmit = async (e) => {\n    e.preventDefault();\n\n    try {\n      this.loadImages(true).then((images) => {\n        if (images.length) {\n          this.setState({\n            pageNumber: 2,\n            images: [...images],\n            warning: false,\n            loader: false,\n            inputValue: \"\",\n          });\n        } else {\n          this.setState({\n            warning: true,\n            images: [],\n            loader: false,\n            inputValue: \"\",\n          });\n        }\n      });\n    } catch (error) {\n      this.setState({\n        error: true,\n        errorMessage: error.message,\n      });\n    }\n  };\n\n  loadImages = async (resetPages) => {\n    if (this.state.inputValue) {\n      this.setState({\n        loader: true,\n      });\n      let { inputValue, pageNumber, perPage } = this.state;\n      if (resetPages) {\n        pageNumber = 1;\n      }\n      const results = await getImages(inputValue, pageNumber, perPage);\n      let imagesArr = [];\n\n      results.data.hits.forEach((image) => {\n        const imageId = image.id;\n        const bigImageUrl = image.largeImageURL;\n        const smallImageUrl = image.webformatURL;\n        const imageAlt = image.tags;\n        imagesArr = [\n          ...imagesArr,\n          { imageId, bigImageUrl, smallImageUrl, imageAlt },\n        ];\n      });\n\n      return imagesArr;\n    } else return [];\n  };\n\n  loadMore = async () => {\n    try {\n      this.loadImages(false).then(async (images) => {\n        this.setState((prevState) => ({\n          pageNumber: prevState.pageNumber + 1,\n          images: [...prevState.images, ...images],\n          loader: false,\n        }));\n        this.scrollWindow();\n      });\n    } catch (error) {\n      this.setState({\n        error: true,\n        errorMessage: error.message,\n      });\n    }\n  };\n\n  openImage = ({ target }) => {\n    this.setState({\n      modal: true,\n      modalSrc: target.dataset.big,\n    });\n  };\n\n  closeModal = () => {\n    this.setState({\n      modal: false,\n    });\n  };\n\n  scrollWindow = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight - 965,\n      behavior: \"smooth\",\n    });\n  };\n\n  render() {\n    const {\n      inputValue,\n      images,\n      error,\n      errorMessage,\n      warning,\n      modal,\n      modalSrc,\n      loader,\n    } = this.state;\n\n    if (error) {\n      return <h1 className=\"message\">{errorMessage}</h1>;\n    }\n\n    return (\n      <>\n        <SearchBar\n          value={inputValue}\n          onSubmit={this.handleSubmit}\n          onInput={this.handleInput}\n        />\n        {warning && (\n          <h1 className=\"message\">No results for this search were found.</h1>\n        )}\n        <ImageGallery\n          galleryItems={images}\n          showImage={this.openImage}\n          modalBool={modal}\n          closeModal={this.closeModal}\n          modalSrc={modalSrc}\n        />\n        {!loader && !!images.length && images.length % 12 === 0 && (\n          <Button handleClick={this.loadMore} />\n        )}\n        {loader && (\n          <div className=\"center\">\n            <Loader type=\"ThreeDots\" color=\"#3f51b5\" height={200} width={200} />\n          </div>\n        )}\n        {modal && (\n          <Modal\n            source={modalSrc}\n            closeModal={this.closeModal}\n            name={modalSrc}\n          />\n        )}\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./components/App/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}